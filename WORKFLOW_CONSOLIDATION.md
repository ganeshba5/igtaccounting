# Workflow Consolidation

## Problem
Two workflows with the same name "Azure Static Web Apps CI/CD" were causing conflicts.

## Solution
✅ **Removed** `.github/workflows/azure-static-web-apps.yml` (manual workflow)
✅ **Kept** `.github/workflows/azure-static-web-apps-thankful-rock-0bea0c80f.yml` (auto-generated by Azure)

## Current Workflows

### 1. Static Web Apps (Frontend)
- **File**: `.github/workflows/azure-static-web-apps-thankful-rock-0bea0c80f.yml`
- **Secret**: `AZURE_STATIC_WEB_APPS_API_TOKEN_THANKFUL_ROCK_0BEA0C80F`
- **Status**: Auto-generated by Azure, should have secret pre-configured

### 2. App Service (Backend)
- **File**: `.github/workflows/azure-app-service.yml`
- **Secret**: `AZURE_CREDENTIALS` (Service Principal)
- **Status**: Manual workflow, already configured

## Next Steps

The auto-generated Static Web Apps workflow should work automatically because Azure typically sets up the secret when creating the Static Web App. However, if you still see "Invalid API key" errors:

1. **Check if the secret exists** in GitHub:
   - Go to: https://github.com/ganeshba5/igtaccounting/settings/secrets/actions
   - Look for: `AZURE_STATIC_WEB_APPS_API_TOKEN_THANKFUL_ROCK_0BEA0C80F`

2. **If missing**, set it to:
   ```
   1c3c5b69d2f857dc62cf61e5d53099441586afe33ee608a69fceb0b3076a897603-37e72e75-224f-43d5-bce6-73017103dfbb00f27180bea0c80f
   ```

3. **Retry the workflow** after the next push

## Benefits of Auto-Generated Workflow

- ✅ Uses OIDC authentication (more secure)
- ✅ Properly configured by Azure
- ✅ Includes correct permissions
- ✅ Uses correct secret naming convention

